\section{Двойственность}
\subsection{Принцип двойственности}
\begin{defn}
  Пусть $\Sigma$ -- утверждение в терминах языка теории категорий.
  Тогда двойственное утверждение $\Sigma^{op}$ получается заменой
  $\cod \to \dom$ на $\dom \to \cod$ и $f \circ g$ на $g^{op} \circ f^{op}$
\end{defn}

\begin{defn}
  $\mathcal{C}^{op}$ -- двойственная категория к $\mathcal{C}$, если:
  \begin{enumerate}
    \item Все объекты $\mathcal{C}^{op}$ -- это $\mathcal{C}$-объекты
    \item $f \colon a \to b$ -- стрелка из $\mathcal{C} \iff f^{op}
      \colon b \to a$ -- стрелка в $\mathcal{C}^{op}$
    \item $f \circ g$ определена в $\mathcal{C}^{op}$ $\iff$ $g^{op} \circ
      f^{op}$ определена в $\mathcal{C}^{op}$
      $(f \circ g)^{op} = g^{op} \circ f^{op}$
  \end{enumerate}
\end{defn}

\begin{task}
  $\Sigma$ -- утверждение в $\mathcal{C}$, то $\Sigma^{op}$ -- утверждение в $\mathcal{C}^{op}$
\end{task}

\begin{task}
  $1$ -- единственная до изоморфизма
\end{task}

\subsection{Произведение}
\begin{defn}
  Пусть $a, b$ -- объекты $\mathcal{C}$. Тогда $a \times b$ -- произведение, если
  найдутся такие $\pr_a \colon a \times b \to a$ и $\pr_b \colon a \times b \to b$,
  что при любых $f \colon c \to a$ и $g \colon c \to b$ существует едиственное
  $\langle f, g \rangle \colon c \to a \times b$, что
  $\pr_a \circ \langle f, g \rangle = f$ и $\pr_b \circ \langle f, g \rangle = g$
\end{defn}

\begin{figure}[h]
  \centering
  \begin{tikzcd}[row sep=0.5in, column sep=1in]
    & c \arrow[ld, "f", swap] \arrow[rd, "g"] \arrow[dashed]{d}{\langle f, g \rangle}& \\
    a & a\times b \arrow[l, "\pr_a"] \arrow[r, "\pr_b", swap] & b
  \end{tikzcd}
  
  \caption{Произведение}
  \label{fig:multiplication}
\end{figure}

\begin{stmt}
  В категории $Set$ $A \times B$ -- декартово произведение множеств $A$ и $B$
\end{stmt}
\begin{proof}
  Пусть $C$ -- некоторое множество из $Set$ и есть некоторые $f \colon C \to A$ и
  $g \colon C \to B$. Тогда $\langle f, g \rangle (c) = \langle f(c), g(c) \rangle$
\end{proof}

\begin{stmt}
  $a \times b$ в категории $\mathcal{C}$ единственна до изоморфизма
\end{stmt}
\begin{proof}
  \begin{figure}[h]
    \centering
    \begin{tikzcd}[column sep=2cm]
      & c \arrow[ld, "f", swap] \arrow[rd, "g"] \arrow[dashed]{d}{\langle f, g \rangle}& \\
    a & a\times b \arrow[l, "\pr_a"] \arrow[r, "\pr_b", swap] \arrow[dashed]{d}{\langle \pr_a, \pr_b \rangle}& b \\
      & d \arrow[ul, "p"]\arrow[ur, "q", swap] &
    \end{tikzcd}
    \caption{К доказательству единственности произведения}
    \label{fig:multiplication-uniqueness}
  \end{figure}
  Мы хотим доказать, что существует такая $h \colon a \times b \rightsquigarrow d$
  Утверждается, что он $h = \langle (\pr_a, \pr_b) \rangle$, а обратное к нему $h^{-1}
  = \langle (p, q) \rangle$
  Из единственности петли понятно, что $h^{-1} \circ h = 1_{a \times b}$ и $h
  \circ h^{-1} = 1_d$
  Но почему она единственна? Пускай есть какое-то другое $\Pi(A, B)$ и отображение
  $\Pi_A \colon \Pi(A, B) \to A$ и $\Pi_B \colon \Pi(A, B) \to B$
\end{proof}

\begin{task}
  В категории предпорядка
  $a \times b$ удовлетворяет свойствам:
  \begin{enumerate}
  \item $a \times b \sqsubseteq a$, $a \times b \sqsubseteq b$
      $a \times b$ -- нижняя грань
    \item $c \sqsubseteq a$ и $c \sqsubseteq b$ влечёт $c \sqsubseteq a \times b$
  \end{enumerate}
  Т.е. предпорядок $c (x)$ -- нижняя полурешётка
\end{task}
\begin{proof}
   Пусть есть некоторое $c$ и $f \colon c \to a$, $g \colon c \to b$.
   Пусть $a \times b$ -- нижняя грань и натуральным образом от неё исходят
   $pr_a$ и $pr_b$ (доказательства того что нижняя грань меньше $a$ и $b$).
   Необходимо доказать существование $\langle f, g \rangle$.
   Из определения нижней грани существует такой морфизм. А т.к. в предпорядке
   между двумя объектами морфизм всегда единственнен получаем то что хотели.
 \end{proof}

\begin{task}
  $N$, что такое $(\times)$ в $N$, где оно определено
\end{task}

\begin{task}
  $\langle \pr_a, \pr_b \rangle = 1_{a \times b}$
\end{task}

\begin{task}
  $\langle f, g \rangle = \langle k, h \rangle$ влечёт $f = k$ и $g = h$
\end{task}

\begin{task}
  $\langle f \circ h, g \circ h \rangle = \langle f, g \rangle \circ h$
\end{task}

\begin{task}
  $A \rightsquigarrow A \times \{0\}$ в $Set$
\end{task}

\begin{task}
  $1$ - конечный объект, то $A \rightsquigarrow A \times 1$
\end{task}

\begin{task}
  Пусть $I \colon a \to 1$, тогда $\langle 1_a, I_a \rangle$ - изо
\end{task}

\begin{tikzcd}
  0 \arrow{r} \arrow[loop left]
& 0' \arrow{l}
\end{tikzcd}


\begin{tikzcd}
  & d \arrow[ld, "p", swap] \arrow[rd, "q"] \arrow{dd}[dashed]{S}& \\
  a &  & b \\
  & a\times b \arrow[ul, "p"] \arrow[ur, "q", swap] &
\end{tikzcd}

\subsection{Копроизведение (сумма)}
\begin{defn}
  Копроизведение -- объект, двойственный произведению. Другими словами,
  пусть $a, b$ -- объекта $\mathcal{C}$. Тогда $a + b$ -- копроизведение, если
  найдутся такие $in_a \colon a + b \to a$ и $in_b \colon a + b \to b$, что при
  любых $f \colon c \to a$ и $g \colon c \to b$ существует единственная $[f, g]
  \colon a + b \to c$, что $[f, g] \circ in_a = f$ и $[f, g] \circ in_b = g$ 
\end{defn}
\begin{figure}[h]
  \centering
  \begin{tikzcd}[row sep=0.5in, column sep=2cm]
    & w & \\
    a \arrow[ru, "f"] \arrow[r, "\inj_a"] &
    a + b \arrow[dashed]{u}{[f, g]} &
    b\arrow[lu, "g", swap] \arrow[l, "\inj_b", swap]
  \end{tikzcd}
  \caption{Копроизведение}
  \label{fig:coproduct}
\end{figure}
\begin{exm}[Копроизведение в $Set$]
  Копроизведением двух множеств $A$ и $B$ является их дизъюнктивное объединение:
  \begin{gather*}
    A + B = \{\, \langle {a, 0} \rangle \mid a \in A \,\}
      \cup \{\, \langle {b, 1} \rangle \mid b \in B \,\} \\
    \inj_A(x) = \langle {x, 0} \rangle \quad
    \inj_B(x) = \langle {x, 1} \rangle \\
  \end{gather*}
  Теперь для некоторых $f \colon A \to W$ и $g \colon B \to W$ определим $[f, g]$
  следующим образом:
  \begin{gather*}
    [f, g](p) = \begin{cases}
      f(x), & p = \langle {x, 0} \rangle \\
      g(x), & p = \langle {x, 1} \rangle
    \end{cases}
  \end{gather*}
\end{exm}
\begin{exm}[Копроизведение в категории предпорядка]
  \leavevmode
  \begin{enumerate}
    \item $a \sqsubseteq a + b$, $b \sqsubseteq a + b$
    \item Если $a \sqsubseteq c$ и $ b \sqsubseteq c$, то $ a + b \sqsubseteq c$
  \end{enumerate}
\end{exm}

\subsection{Уравнители}
\begin{defn}
  Пусть $f, g \colon a \rightrightarrows b$ -- пара морфизмов, тогда $i \colon e \to
  a$ называется уравнителем, если:
  \begin{enumerate}
    \item $f \circ i = g \circ i$
    \item Для любого $h \colon c \to a$ найдётся единственный морфизм
      $k \colon c \to e$ такой, что если $f \circ h = g \circ h$,
      то $i \circ k = h$
  \end{enumerate}
\end{defn}
\begin{figure}[h]
  \centering
  \begin{tikzcd}[row sep = 2mm]
    c \arrow[dr, "h"]      &                  &   \\
    e \arrow[r, "i", swap] & a \arrow[r, "f", shift left]
                               \arrow[r, "g", shift right, swap]& b
  \end{tikzcd}
  \caption{Уравнитель}
  \label{fig:equaliser}
\end{figure}

\begin{thm}
  Уравнитель -- мономорфизм
\end{thm}
\begin{proof}
  Пусть $i \circ p = i \circ q$, но при этом $p \neq q$.
  Рассмотрим $f \circ (i \circ p) = (f \circ i) \circ p = (g \circ i) \circ p = g \circ (i \circ p)$.
  Получилось, что $f \circ (i \circ p) = g \circ (i \circ p)$.
  Тогда по определению уравнителя есть единственное такое $k$, что $i \circ k = i \circ p$.
  Значит, $k = p$ и аналогично доказывается $k = q$.
\end{proof}
\begin{figure}[h]
  \centering
  \begin{tikzcd}[row sep = 1cm]
    e \arrow[rr, "i"] & & a \arrow[r, "f", shift left] \arrow[r, "g", swap, shift right]& b \\
           & c \arrow[lu, "p", shift left] \arrow[lu, "q", shift right, swap]
                                           \arrow[ru, "i \circ p", swap] & &
  \end{tikzcd}
  \caption{К доказательству мономорфности}
  \label{fig:equaliser-monomorphism}
\end{figure}

\begin{thm}
  Эпиморфный уравнитель -- изоморфизм
\end{thm}
\begin{proof}
  По условию, если $f \circ i = g \circ i$, то $f = g$.
  Тогда представим, что $c = a$ и $h = 1_a$.
  Получили $f \circ 1_a = g \circ 1_a = f$, а значит,
  по определению уравнителя есть единственное такое $k$, что $i \circ k = 1_a$.
  Тогда $i \circ k \circ i = 1_a \circ i = i = i \circ 1_b$.
  Получается, что $i \circ k \circ i = i \circ 1_b$ и по определению мономорфизма
  (а уравнитель -- это мономорфизм по прошлой теореме) получаем $k \circ i = 1_b$.
  Таким образом, $k$ -- обратный элемент для $i$.
  Поэтому $i$ -- изоморфизм.
\end{proof}
\begin{figure}[h]
  \centering
  \begin{tikzcd}[row sep = 1cm]
    e \arrow[rr, "i"] & & a \arrow[dashed]{r}{f, g}& b \\
            & c \arrow[lu, dashed, "a"] \arrow[ru, "1_a", swap] & &
  \end{tikzcd}
  \caption{К доказательству изоморфности эпиморфного уравнителя}
  \label{fig:equaliser-isomorphism}
\end{figure}

\section{Конус}
Пусть $D$ -- диаграмма $\{\,d_i \text{ -- объекты}, g_i \text{-- стрелки}\}$
\begin{defn}[Конус для диаграммы D]
  Конус -- это:
  \begin{enumerate}
  \item C-объект
  \item Набор стрелок $\{f_i\} \quad f_i \colon c \to d_i$
  \end{enumerate}
  такие, что для каждого $d_i$ и $d_j$ таких, что есть $g\colon d_i \to d_j$
  найдутся $f_i$ и $f_j$, что диаграмма \ref{fig:cone} комутативна, и на ней
  $f_j = g \circ f_i$
\end{defn}

\begin{figure}[h]
  \centering
  \begin{tikzcd}[row sep = .5in]
    d_i \arrow[rr, "g"] & & d_j \\
    & c \arrow[lu, "f_i"] \arrow[ru, "f_j", swap] &
  \end{tikzcd}
  \caption{Конус}
  \label{fig:cone}
\end{figure}

\begin{figure}[h]
  \centering
  \begin{tikzcd}[row sep = .5in]
    & d_i  & \\
    x \arrow[ru, "f'_i"]\arrow[rr, dashed] & & c\arrow[lu, "f_i", swap]
  \end{tikzcd}
  \caption{Предел}
  \label{fig:limit}
\end{figure}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
