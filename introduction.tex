\section{Ввведение}
\subsection{Основные определения и свойства}
\begin{defn}
  Категорией называется такое
  $\mathcal{C} = \langle \mathcal{O}, hom, 1, \circ \rangle$, что:
  \begin{enumerate}
  \item Есть множество объектов $\mathcal{O}$: $(a, b, \ldots)$
  \item Для каждой пары объектов $(a, b)$ из $\mathcal{C}$, существует множество
    $hom(a, b)$, элементы которого называются морфизмами (стрелками) из $a$ в $b$:
    $(f \colon a \to b,\ g \colon b \to c, \ldots)$
  \item Для каждого объекта $a$ из $\mathcal{C}$ существует морфизм
    $1_a \colon a \to a$
  \item Для пары морфизмов $f \colon a \to b$ и $g \colon b \to c$
    определен морфизм $g \circ f \colon a \to c$, называемый композицией $f$ и $g$
  \end{enumerate}
  А также удовлетворяющее следующим аксиомам:
  \begin{itemize}
  \item Композиция ассоциативна, т.е. $f \circ (g \circ h) = (f \circ g) \circ h$
  \item Для любых морфизмов $f \colon a \to b, g \colon b \to c$ выполняется
    $f \circ 1_a = f$ и $1_a \circ g = g$ (Также называется законом тождества)
  \end{itemize}
\end{defn}

\begin{figure}[b]
  \centering
  \begin{tikzcd}[column sep=1in, row sep=1in]
    a \arrow[r, "f"] \arrow[dr, "g\circ f" labrd, pos=0.3, crossing over]
      \arrow[d, xshift=4pt, "(h \circ g) \circ f" labl, outer sep=8pt]
      \arrow[d, xshift=-4pt, "h \circ (g \circ f)" labl, outer sep=-9pt]
  & b \arrow [d, "g"]
      \arrow [ld, "h\circ g" labru, pos=0.3, swap, crossing over]
    \\
    d
  & c \arrow [ l , swap , " h " ]
  \end{tikzcd}

  \caption{Коммутативная диаграмма какой-то категории}
  \label{fig:cd1}
\end{figure}
\begin{exm}
  Несколько простых примеров категорий:
  \begin{enumerate}
    \item $Set$ -- это катерогия множеств \\
      Объекты в ней -- все множества \\
      Морфизмы -- отображения \\
      $1_a$ -- тождественное отображение \\
      $\circ$ -- обычная композиция отображений
    \item Категория $1$ \\
      $1_a\colon a \to a$ (нарисовать петлю)
    \item Категория $2$ \\
      две петли и $f\colon a \to b$
    \item Категория предпорядка \\
      Если есть множество объектов $\mathcal{O}$ и операция $\leq$ на них,
      обладающая свойствами рефлексивности и транзитивности, тогда это категория,
      объектами которой являются $\mathcal{O}$, стрелка между $a$ и $b$
      добавляется тогда и только тогда, когда $a \leq b$. Закон тождества
      выполняется в силу рефлексивности $\leq$, а ассоциативность $\circ$ в силу
      транзитивности $\leq$.
    \item Категория моноид \\
      Пусть есть моноид $M = \langle A, *, e \rangle$. Тогда в качестве
      единственного объекта возьмём $A$ ($\mathcal{O} = \{ A \}$),
      стрелками будут все элементы $A$ ($hom(A, A) = A$), $1_A = e$, а композиция
      стрелок будет эквивалентна $a * b$.
  \end{enumerate}
\end{exm}

\begin{figure}
\centering
\begin{subfigure}{.33\textwidth}
  \centering
  \begin{tikzcd}
    a \arrow[loop]
  \end{tikzcd}
  \caption{Категория 1}
  \label{fig:category-1}
\end{subfigure}%
\begin{subfigure}{.33\textwidth}
  \centering
  \begin{tikzcd}[column sep=1in]
    a \arrow[r, "f"] \arrow[loop]
  & b \arrow[loop]
  \end{tikzcd}
  \caption{Категория 2}
  \label{fig:category-2}
\end{subfigure}
\begin{subfigure}{.33\textwidth}
  \centering
  \begin{tikzcd}[column sep=1in]
    A \arrow[loop left, "e"] \arrow[loop above, "a"] \arrow[loop right, "b"]
    \arrow[loop below, "a * b"]
  \end{tikzcd}
  \caption{Категория моноид}
  \label{fig:category-monoid}
\end{subfigure}
\caption{Примеры категорий}
\label{fig:category-example}
\end{figure}

\begin{thm}
  В категории $\mathcal{C}$ для каждого объекта $x$ существует единственное $1_x$
\end{thm}
\begin{proof}
  Предположим есть две таких единицы $1_x$ и $I_x$.
  Тогда $1_x \circ I_x = 1_x$ (по первой половине закона тождества)
  и также $1_x \circ I_x = I_x$ (по второй половине закона тождества).
  Тогда по единственности композиции $1_x = I_x$
\end{proof}

\begin{defn}
  Дискретная категория -- такая категория, в которой единственные морфизмы --
  единичные стрелки.
\end{defn}
\begin{defn}
  Подкатегория -- $\mathcal{C} \subset \mathcal{D}$, если все
  $\mathcal{C}$-объекты -- это $\mathcal{D}$-объекты и все
  $\mathcal{C}$-морфизмы -- это $\mathcal{D}$-морфизмы.
\end{defn}
\begin{defn}
  Подкатегория называется полной, если для любых таких $\mathcal{C}$-объектов
  $a, b$, в $\mathcal{D}$ нет дополнительных морфизмов между $a$ и $b$.
\end{defn}
\begin{defn}
  Произведение категорий -- $\mathcal{C} \times \mathcal{D}$, если объектами
  являются пары $\langle a, b \rangle$, а морфизмы получаются из морфизмов
  $f\colon a \to c$, $g\colon b \to d$ следующим образом:
  $\langle f, g \rangle\colon \langle a, b \rangle \to \langle c,d \rangle$
\end{defn}

% Отсюда начинается какое-то невнятное гавно
%$\mathcal{C}$ -- категория. Тогда посторим $\overrightarrow{\mathcal{C}}$: \\
%$f\colon a \to b$ \\
%$g\colon a \to b$ \\

%Объекты $\overrightarrow{\mathcal{C}}$ -- $\langle h, k \rangle$ \\
%$1_{f\colon a \to b} = \langle 1_a, 1_b \rangle$ \\

%*Рисунок из трёх стрелок, показывающий композицию* \\
% Здесь невнятное гавно заканчивается

\begin{defn}
  Морфизм $f \colon a \to b$ называется мономорфизмом, если для любых морфизмов
  $g_1 \colon c \to a, g_2 \colon c \to a$, таких что $f \circ g_1 = f \circ g_2$
  следует $g_1 = g_2$.
\end{defn}

\begin{thm}
  В категории $Set$ мономорфная стрелка является инъективным отображением
\end{thm}
\begin{proof}
  $\Rightarrow$) Предположим $f \colon a \to b$ не инъективно. Тогда найдутся такие $u != v$
  (элемента некоторого множества $a$), что $f(u) = f(v)$. Возьмём такие
  $g_1(x) = u$ и $g_2(x) = v$ (функции, возвращающие всегда одни и те же
  элементы множества $a$). Тогда $f \circ g_1 = f \circ g_2$. Что противоречит
  определению мономорфизма $f$.
  $\Leftarrow$) Пусть для некоторого $x$: $g_1(x) \ne g_2(x)$. Тогда $f(g_1(x))
  \ne f(g_2(x))$. А значит $f \circ g_1 \ne f \circ g_2$.
\end{proof}

\begin{defn}
  Морфизм $f \colon a \to b$ называется эпиморфизмом, если для любых морфизмов
  $g_1 \colon b \to c, g_2 \colon b \to c$, таких что $g_1 \circ f = g_2 \circ f$
  следует $g_1 = g_2$
\end{defn}

\begin{defn}
  Морфизм $f \colon a \to b$ называется изоморфизмом, если найдётся
  $g \colon b \to a$, такая что $g \circ f = 1_a$ и $f \circ g = 1_b$.
  Изоморфная стрелка обозначается следующим образом:
  $f \colon a \rightsquigarrow b$
\end{defn}

\begin{stmt}
  $g$ из определения изоморфизма $f$ единственно
\end{stmt}
\begin{proof}
  Пусть существуют два таких морфизма $g$ и $g'$ из определения изоморфизма. Тогда:
  $g' = 1_a \circ g' = (g \circ f) \circ g' = g \circ (f \circ g') = g \circ 1_b = g$
\end{proof}

Эквивалентна ли изоморфность и эпиморфность с мономорфностью?
\begin{exm}
  Не эквивалентны. $\mathbb{N}$ -- пример категории (как моноид по $+$) с
  эпиморфными и мономорфными стрелками, но не с изоморфными стрелками.
\end{exm}

\begin{task}
  Пусть $f$ -- изоморфизм, тогда $f$ -- эпиморфизм и мономорфизм
\end{task}
\begin{proof}
  Докажем, что $f$ -- эпиморфизм. Мономорфизм доказывается аналогично.
  \begin{gather*}
    g_1 \circ f = g_2 \circ f \Rightarrow
    (g_1 \circ f) \circ f^{-1} = (g_2 \circ f) \circ f^{-1} \Rightarrow
    g_1 \circ (f \circ f^{-1}) = g_2 \circ (f \circ f^{-1}) \Rightarrow \\
    \Rightarrow g_1 \circ 1_b = g_2 \circ 1_b \Rightarrow
    g_1 = g_2
  \end{gather*}
\end{proof}

\begin{task}
  $1_x$ -- изоморфизм
\end{task}
\begin{proof}
  Докажем, что $I_x$ (переименованная $1_x$) удовлетворяет свойствам обратного к $1_x$:
  $I_x \circ 1_x = 1_x$, $1_x \circ I_x = 1_x$
\end{proof}

\begin{task}
  Пусть $f$ -- изоморфизм, тогда $f^{-1}$ -- изоморфизм
\end{task}
\begin{proof}
  Есть $g = f^{-1}$ из определения изоморфизма. Тогда для $g$ есть $f$, которое
  удовлетворяет свойствам из определения изоморфизма: $f \circ g = 1_b$ и
  $g \circ f = 1_a$
\end{proof}

\begin{task}
  Пусть $f \colon a \to b$ и $g \colon b \to c$ -- изоморфизмы, тогда $g \circ f$ -- изоморфизм, причём
  $(g \circ f)^{-1} = f^{-1} \circ g^{-1}$
\end{task}
\begin{proof}
  Докажем, что $f^{-1} \circ g^{-1}$ удовлетворяет свойствам обратного к
  $g \circ f$:
  \begin{gather*}
    (f^{-1} \circ g^{-1}) \circ (g \circ f) =
    ((f^{-1} \circ g^{-1}) \circ g) \circ f =
    (f^{-1} \circ (g^{-1} \circ g)) \circ f =
    (f^{-1} \circ 1_b) \circ f =
    f^{-1} \circ f = 1_a
  \end{gather*}
  Второе свойство доказывается аналогично
\end{proof}

\begin{defn}
  Объекты $a$ и $b$ называются изоморфными ($a \oisom b$), если существует $f: a \isom b$
\end{defn}

\begin{defn}
  Селективная категория -- такая категория, в которой $a \oisom b$ влечёт $a = b$.
\end{defn}

\begin{exm}
  Категория предпорядка не является селективной категорией, тогда как любая
  категория частичного порядка является селективной, т.к. добавляется свойство
  антисимметричности, которое как раз и является переформулировкой свойства
  селективности.
\end{exm}

\begin{defn}
  $0$ -- начальный объект категории $\mathcal{C}$, если из $0$ существует ровно одна
  стрелка в любой $\mathcal{C}$-объект
\end{defn}

\begin{stmt}
  Любые два $0$-объекта изоморфны
\end{stmt}
\begin{proof}
  Пусть $0'$ - тоже $0$. Тогда найдутся такие $f \colon 0 \to 0'$ и $g \colon 0' \to 0$ и
  единственные $1_0 \colon 0 \to 0$, $1_{0'} \colon 0' \to 0'$. Тогда
  $g \circ f = 1_0$ и $f \circ g = 1_{0'}$
\end{proof}

\begin{exm}
  $\emptyset$ -- начальный объект в $Set$, т.к. пустое множество можно
  отобразить во все другие единственным образом (ничего не делать можно
  единственным образом)
\end{exm}

\begin{defn}
  $1$ -- конечный объект категории $\mathcal{C}$, если из любого объекта
  ведёт ровно одна стрелка
\end{defn}

\begin{exm}
  В $Set$ конечный объект суть любое одноэлементное множество
\end{exm}

\begin{task}
  Стрелка $f \colon 1 \to a$ мноморфна
\end{task}
\begin{proof}
  Тривиально
\end{proof}

Здесь начинается что-то невнятное. Нужно отредактировать

\begin{defn}
  $\Sigma$ -- утверждение
  Заменить $cod \to dom$ на $dom \to cod$. Если было
  $f \circ g \to g^{op} \circ f^{op}$
  $\Sigma^{op}$ -- двойственное утверждение
\end{defn}

\begin{defn}
  $\Sigma^{op}$ -- двойственная категория к $\mathcal{C}$, если:
  \begin{enumerate}
    \item Все объекты $\mathcal{C}^{op}$ -- это $\mathcal{C}$-объекты
    \item Если $f \colon a \to b$ -- стрелка из $\mathcal{C}$, титт $f^{op}
      \colon b \to a$ -- стрелка в $\mathcal{C}^{op}$
    \item $f \circ g$ определена в $\mathcal{C}^{op}$ титт, когда $g^{op} \circ
      f^{op}$ определена в $\mathcal{C}^{op}$
      $(f \circ g)^{op} = g^{op} \circ f^{op}$
  \end{enumerate}
\end{defn}

\begin{task}
  $\Sigma$ -- утверждение в $\mathcal{C}$, то $\Sigma^{op}$ -- утверждение в $\mathcal{C}^{op}$
\end{task}

\begin{task}
  $1$ -- единственная до изоморфизма
\end{task}

\subsection{Произведение}
Пусть $a, b$ -- объекты $\mathcal{C}$. Тогда $a \times b$ -- произведение, если
найдутся такие $pr_a \colon a \times b \to a$ и $pr_b \colon a \times b \to b$,
что при любых $f, g$ существует $\langle f, g \rangle$, что:
$f \colon c \to a$
$g \colon c \to b$

*Рисуночек с треугольником*

\begin{stmt}
  В категории $Set$ $A \times B$ -- декартово произведение множеств $A$ и $B$
\end{stmt}
\begin{proof}
  $C, f \colon C \to A, g \colon C \to B$
  $\langle f, g \rangle (c) = \langle (f(c), g(c)) \rangle$
\end{proof}

\begin{stmt}
  $a \times b$ в категории $\mathcal{C}$ единственна до изоморфизма
\end{stmt}
\begin{proof}
  *Картинка с ромбиком*
  Мы хотим доказать, что существует такая $h \colon a \times b \rightsquigarrow d$
  Утверждается, что он $h = \langle (pr_a, pr_b) \rangle$, а обратное к нему $h^{-1}
  = \langle (p, q) \rangle$
  Из единственности петли понятно, что $h^{-1} \circ h = 1_{a \times b}$ и $h
  \circ h^{-1} = 1_d$
  Но почему она единственна? Пускай есть какое-то другое $П(A, B)$ и отображение
  $П_A \colon П(A, B) \to A$ и $П_B \colon П(A, B) \to B$
\end{proof}

\begin{task}
  В категории предпорядка
  $a \times b$ удовлетворяет свойствам:
  \begin{enumerate}
    \item $a \times b <= a$, $a \times b <= b$
      $a \times b$ -- нижняя грань
    \item $c <= a$ и $c <= b$ влечёт $c <= a \times b$
  \end{enumerate}
  Т.е. предпорядок $c (x)$ -- нижняя полурешётка
\end{task}

\begin{task}
  $N$, что такое $(\times)$ в $N$, где оно опр
\end{task}

\begin{task}
  $\langle pr_a, pr_b \rangle = 1_{a \times b}$
\end{task}

\begin{task}
  $\langle f, g \rangle = \langle k, h \rangle$ влечёт $f = k$ и $g = h$
\end{task}

\begin{task}
  $\langle f \circ h, g \circ h \rangle = \langle f, g \rangle \circ h$
\end{task}

\begin{task}
  $A \rightsquigarrow A \times \{0\}$ в $Set$
\end{task}

\begin{task}
  $1$ - конечный объект, то $A \rightsquigarrow A \times 1$
\end{task}

\begin{task}
  Пусть $I \colon a \to 1$, тогда $\langle 1_a, I_a \rangle$ - изо
\end{task}